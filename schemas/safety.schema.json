{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ClaudeKit Safety Configuration",
  "description": "Configuration for dangerous command protection and safety rules",
  "type": "object",
  "properties": {
    "version": {
      "type": "string",
      "description": "Schema version"
    },
    "description": {
      "type": "string"
    },
    "dangerous_commands": {
      "type": "object",
      "description": "Commands that require confirmation",
      "properties": {
        "description": { "type": "string" },
        "patterns": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Regex patterns for dangerous commands"
        }
      }
    },
    "protected_files": {
      "type": "object",
      "description": "Files that should never be accessed",
      "properties": {
        "description": { "type": "string" },
        "patterns": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Glob patterns for protected files"
        }
      }
    },
    "sensitive_patterns": {
      "type": "object",
      "description": "Content patterns that should not be logged",
      "properties": {
        "description": { "type": "string" },
        "patterns": {
          "type": "array",
          "items": { "type": "string" },
          "description": "Regex patterns for sensitive content"
        }
      }
    },
    "agent_restrictions": {
      "type": "object",
      "description": "Per-agent tool restrictions",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "description": { "type": "string" },
          "allowed_tools": {
            "type": "array",
            "items": { "type": "string" }
          },
          "denied_patterns": {
            "type": "array",
            "items": { "type": "string" }
          }
        }
      }
    },
    "permission_profiles": {
      "type": "object",
      "description": "Pre-defined permission profiles",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "description": { "type": "string" },
          "allow": {
            "type": "array",
            "items": { "type": "string" }
          }
        }
      }
    },
    "default_profile": {
      "type": "string",
      "description": "Default permission profile to use"
    }
  }
}
